


## Create and capture cookies using Postman's cookie manage

link:https://learning.postman.com/docs/sending-requests/response-data/cookies/[Create and capture cookies using Postman's cookie manage]

link:https://learning.postman.com/docs/sending-requests/capturing-request-data/interceptor/[Capture traffic from a web browser using Postman Interceptor]


## interceptor
link:https://learning.postman.com/docs/sending-requests/capturing-request-data/interceptor/#install-interceptor[install-interceptor]


== script

== api key

link:https://github.com/postmanlabs/newman?tab=readme-ov-file#using-newman-with-the-postman-api[Using Newman with the Postman API]

[source,shell]
----
export apiKey=xxx

# 获取所拥有的 collection
curl -v "https://api.getpostman.com/collections?apikey=$apiKey" | jq

# 获取 colleciton 内容
export collectionUid=4784805-748cfea4-8cd4-422a-b0f9-f81053706784
curl -v "https://api.getpostman.com/collections/$collectionUid?apikey=$apiKey" | jq

# 获取 环境 列表
curl -v "https://api.getpostman.com/environments?apikey=$apiKey" | jq

# 获取 环境 内容
export envUid=e104449f-2a45-4d64-9ac1-daee3556eab5
curl -v "https://api.getpostman.com/environments/$envUid?apikey=$apiKey" | jq

# 运行
newman run "https://api.getpostman.com/collections/$collectionUid?apikey=$apiKey" \
    --environment "https://api.getpostman.com/environments/$envUid?apikey=$apiKey"
----

== Postman Interceptor
link:https://github.com/postmanlabs/postman-chrome-interceptor[postman-chrome-interceptor]


== Postman javascript API
link:https://learning.postman.com/docs/tests-and-scripts/write-scripts/postman-sandbox-api-reference/[Process data and script workflows using Postman JavaScript objects]




== Newman CLI
link:https://learning.postman.com/docs/collections/using-newman-cli/command-line-integration-with-newman/[Run and test collections from the command line using Newman CLI]

newman 提供了nodeJs api.

[source,shell]
----
# macos 安装
brew install newman

# 运行本地导出的collection
newman -h my-collection.json

newman run ~my-collection.json -e dev-environment.json

newman run ~/Documents/my-cli.postman_collection.json -e ~/Documents/pre.postman_environment.json -r json --reporter-json-export report.json


newman run https://www.postman.com/collections/<collection-id>
newman run "https://api.getpostman.com/collections/4784805-748cfea4-8cd4-422a-b0f9-f81053706784?apikey=$apiKey" \
    --environment "https://api.getpostman.com/environments/$uid?apikey=$apiKey"
----

== Postman CLI
link:https://learning.postman.com/docs/postman-cli/postman-cli-overview/[Explore Postman's command-line companion]

[source,shell]
----
brew install --cask postman-cli
postman -h
# 需要通过 postman web控制台设置并获取API KEY
postman login
postman collection -h
postman collection run -h


# 运行
# 通过 postman : 选择 某个collection或者目录，右键: Run, 可以看到预生成的 postman cli 命令。

# 注意：环境中的变量如果没有 shared ，则必须通过命令行指定
postman collection run \
  -e 4784805-e104449f-2a45-4d64-9ac1-daee3556eab5 \
  -i "branch/querySpringConfig" \
  4784805-f9ecff7e-0f3b-4b08-9ecb-d08d724d571d


postman collection run \
  -e 4784805-e104449f-2a45-4d64-9ac1-daee3556eab5 \
  -i "变更/查询变更配置详情" \
  4784805-f9ecff7e-0f3b-4b08-9ecb-d08d724d571d

postman collection run 4784805-f9ecff7e-0f3b-4b08-9ecb-d08d724d571d -e 4784805-e104449f-2a45-4d64-9ac1-daee3556eab5 -i 4784805-be2ca4a4-8ea0-4d39-ad1e-df5c29a15ec0

----


