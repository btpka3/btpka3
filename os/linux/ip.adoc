

## ip route

[source,bash]
----
man ip-route
ip route { add | del | change | append | replace } ROUTE

ROUTE := NODE_SPEC [ INFO_SPEC ]
NODE_SPEC := [ TYPE ] PREFIX [ tos TOS ] [ table TABLE_ID ] [ proto RTPROTO ] [ scope SCOPE ] [ metric METRIC ]
INFO_SPEC := NH OPTIONS FLAGS [ nexthop NH ] ...
----


## ip 地址
IPv4: 32位（4个字节）
IPv6: 128位（16个字节）

A、B、C、D、E


// 示例1：表头，多单元格内容相同
.IP网段
[%header,cols="1,1,1,1,1,1"]
|===
|      | A|B|C|D|E

|网络标识位
|0
|10
|110
|1110
|1111

|网络数量
|126（2^7 - 2）
|16384 (2^14)
|2097152 (2 ^ 21)
|
|

|保留地址（私有网段）
|10.0.0.0/8, 100.64.0.0/10
|172.16.0.0/12
|192.168.0.0/16
|
|

|每个网络可用主机
|16777214 （2^24 - 2）
|65534 (2 ^ 16 - 2)
|254 (2^8 - 2)
|
|

|IP地址范围
|0.0.0.0   - 127.255.255.255
|128.0.0.0 - 191.255.255.255
|192.0.0.0 - 223.255.255.255
|224.0.0.1 — 239.255.255.254
|240.0.0.0 - 255.255.255.254

|可用IP地址范围
|1.0.0.1 - 127.255.255.254
|128.0.0.1 - 191.255.255.254
|192.0.0.1 - 223.255.255.254
|224.0.0.1 — 239.255.255.254 组播组、单播(Unicast)、多播( Multicast)、广播( Broadcast)
|240.0.0.0 - 255.255.255.254 用于实验开发、科研测试以及未来扩展用途

|IP地址
|0???????.00000000.00000000.00000000
|10??????.????????.00000000.00000000
|110?????.????????.????????.00000000
|111?????.????????.????????.00000000
|

|===







Q：以下IP 是公网IP ? 还是内网IP ?
- green-console 日常k8s master ip 地址： 11.164.234.212
- 个人MacOS 的办公网IP ： 30.196.226.30/18

A:  对应的网管将公网IP段当成内网IP段来使用了。
因为这些公网IP 对于绝大多数人估计一辈子都不会访问。
以下ip段属于美国的军事用途的IP段：
6.0.0.0/8
7.0.0.0/8
11.0.0.0/8
21.0.0.0/8
22.0.0.0/8
28.0.0.0/8
26.0.0.0/8
29.0.0.0/8
30.0.0.0/8
33.0.0.0/8
55.0.0.0/8
214.0.0.0/24
215.0.0.0/24


link:https://www.iana.org/assignments/ipv4-address-space/ipv4-address-space.xhtml[IANA IPv4 Address Space Registry]

link:https://zh-hans.ipshu.com/ip_b_list/11[11开头的IP是哪里的IP,IP地址列表]

link:https://zh-hans.ipshu.com/ip_b_list/30[30开头的IP是哪里的IP,IP地址列表]

link:https://zhuanlan.zhihu.com/p/368326750[美国国防部1.75亿个IP激活，小心你的内网流量传到五角大楼]


== IPv6

单播地址（Unicast） : 类似IPv4公网地址，可在全球路由。格式：2000::/3（前3位固定为001）
组播地址（Multicast）: 格式为ff00::/8（前8位固定为1111 1111）。
任播地址（Anycast）


无类别域间路由（Classless Inter-Domain Routing、CIDR）


== ip命令

link:https://access.redhat.com/sites/default/files/attachments/rh_ip_command_cheatsheet_1214_jcs_print.pdf[ip command cheat sheet]

[source,shell]
----
############################################# 查询
# 显示IP信息
ip addr
# 显示指定网卡的IP信息
ip addr show dev en0
# 查询路由
ip route
# 显示 neighbour（IPv4的ARP表）
ip neigh

ip help
ip addr help
ip link help
ip neigh help

sudo ip addr add 192.168.1.1/24 dev lo0
sudo ip addr add 192.168.1.2/24 dev lo0
sudo ip addr add 192.168.1.3/24 dev lo0
----
